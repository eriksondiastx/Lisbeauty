<!DOCTYPE html>
<html lang="pt-pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detalhes do Produto | LisBeauty</title>
    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- FontAwesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <!-- Header consistente com outras páginas -->
    <header>
      <nav class="navbar navbar-expand-lg fixed-top shadow-sm navbar-custom">
        <div class="container">
          <!-- Logo -->
          <a class="navbar-brand" href="index.html">
            <img
              src="img/uploads/LisBeauty.png"
              alt="LisBeauty"
              style="width: 150px; height: auto"
            />
          </a>

          <!-- Botão colapsável para mobile -->
          <button
            class="navbar-toggler ms-auto"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNav"
            aria-controls="navbarNav"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <!-- Itens do menu -->
          <div
            class="collapse navbar-collapse justify-content-center text-center"
            id="navbarNav"
          >
            <ul class="navbar-nav w-100">
              <li class="nav-item me-4">
                <a class="nav-link" href="index.html">Início</a>
              </li>
              <li class="nav-item me-4">
                <a class="nav-link" href="produto.html">Perucas</a>
              </li>
              <li class="nav-item me-4">
                <a class="nav-link" href="#">Serviço de MakeUp</a>
              </li>
              <li class="nav-item me-4">
                <a class="nav-link" href="#">Sobre</a>
              </li>
              <li class="nav-item me-4">
                <a class="nav-link" href="contactos.html">Contactos</a>
              </li>
              <li class="nav-item me-4 ms-auto me-0">
                <a class="nav-link" href="#">
                  <i class="fas fa-shopping-cart"></i>
                  <span
                    id="contador-carrinho"
                    class="badge bg-danger ms-1"
                    style="display: none"
                    >0</span
                  >
                </a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
    </header>

    <!-- Breadcrumbs -->
    <div class="container mt-5 pt-5">
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Início</a></li>
          <li class="breadcrumb-item"><a href="#">Perucas</a></li>
          <li
            class="breadcrumb-item active"
            aria-current="page"
            id="breadcrumb-produto"
          >
            Carregando...
          </li>
        </ol>
      </nav>
    </div>

    <!-- Loading State -->
    <div class="container mb-5" id="loading-container">
      <div class="text-center py-5">
        <div class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Carregando...</span>
        </div>
        <p class="mt-3">Carregando produto...</p>
      </div>
    </div>

    <!-- Produto Principal -->
    <main class="container mb-5" id="produto-principal" style="display: none">
      <div class="row">
        <!-- Imagens do Produto -->
        <div class="col-lg-6 mb-4">
          <div class="produto-imagens">
            <!-- Imagem Principal -->
            <div class="main-image mb-3">
              <img
                id="imagem-principal"
                src=""
                alt=""
                class="img-fluid rounded shadow-sm w-100"
                style="height: 500px; object-fit: cover"
              />

              <!-- Botão Favorito -->
              <button
                class="btn btn-outline-danger position-absolute top-0 end-0 m-3 btn-favorito"
                id="btn-favorito"
                data-produto-id=""
              >
                <i class="far fa-heart"></i>
              </button>
            </div>

            <!-- Miniaturas -->
            <div class="row" id="miniaturas-container">
              <!-- Miniaturas serão inseridas aqui -->
            </div>
          </div>
        </div>

        <!-- Informações do Produto -->
        <div class="col-lg-6">
          <div class="produto-info">
            <!-- Título e Preço -->
            <h1 id="produto-nome" class="mb-3"></h1>
            <div class="mb-3">
              <span class="h2 text-primary fw-bold" id="produto-preco"></span>
              <small class="text-muted ms-2" id="produto-categoria"></small>
            </div>

            <!-- Avaliações -->
            <div class="mb-3">
              <div class="estrelas mb-2" id="produto-estrelas">
                <!-- Estrelas serão inseridas aqui -->
              </div>
              <small class="text-muted">
                <span id="total-avaliacoes">0</span> avaliações |
                <span id="produto-visualizacoes">0</span> visualizações
              </small>
            </div>

            <!-- Descrição -->
            <div class="mb-4">
              <h5>Descrição</h5>
              <p id="produto-descricao" class="text-muted"></p>
            </div>

            <!-- Especificações -->
            <div class="mb-4">
              <h5>Especificações</h5>
              <div class="row">
                <div class="col-6">
                  <strong>Categoria:</strong> <span id="spec-categoria"></span>
                </div>
                <div class="col-6">
                  <strong>Subcategoria:</strong>
                  <span id="spec-subcategoria"></span>
                </div>
              </div>
            </div>

            <!-- Ações -->
            <div class="d-grid gap-3">
              <button class="btn btn-primary btn-lg" id="btn-carrinho">
                <i class="fas fa-shopping-cart"></i> Adicionar ao Carrinho
              </button>
              <button class="btn btn-success btn-lg" id="btn-comprar">
                <i class="fas fa-bolt"></i> Comprar Agora
              </button>
              <div class="row">
                <div class="col-6">
                  <button
                    class="btn btn-outline-primary w-100"
                    id="btn-compartilhar"
                  >
                    <i class="fas fa-share"></i> Compartilhar
                  </button>
                </div>
                <div class="col-6">
                  <button class="btn btn-outline-info w-100" id="btn-whatsapp">
                    <i class="fab fa-whatsapp"></i> WhatsApp
                  </button>
                </div>
              </div>
            </div>

            <!-- Informações Adicionais -->
            <div class="mt-4">
              <div class="alert alert-info">
                <i class="fas fa-truck"></i>
                <strong>Entrega:</strong> Disponível em Luanda. Contacte-nos
                para outras províncias.
              </div>
              <div class="alert alert-warning">
                <i class="fas fa-clock"></i>
                <strong>Encomenda:</strong> Produto disponível por encomenda.
                Prazo: 3-7 dias úteis.
              </div>
            </div>
          </div>
        </div>
      </div>
    </main>

    <!-- Seção de Comentários -->
    <section
      class="container mb-5"
      id="secao-comentarios"
      style="display: none"
    >
      <div class="row">
        <div class="col-lg-8 mx-auto">
          <div class="card">
            <div class="card-header">
              <h3 class="card-title mb-0">
                <i class="fas fa-comments"></i> Avaliações e Comentários
              </h3>
            </div>
            <div class="card-body">
              <!-- Resumo das Avaliações -->
              <div class="row mb-4">
                <div class="col-md-4 text-center">
                  <div class="h2 text-primary" id="media-geral">0.0</div>
                  <div class="estrelas mb-2" id="estrelas-geral"></div>
                  <small class="text-muted" id="total-avaliacoes-texto"
                    >0 avaliações</small
                  >
                </div>
                <div class="col-md-8">
                  <div id="grafico-estrelas">
                    <!-- Gráfico de barras das estrelas -->
                  </div>
                </div>
              </div>

              <!-- Formulário de Comentário -->
              <div class="mb-4">
                <h5>Deixe sua Avaliação</h5>
                <form id="comentario-form">
                  <div class="mb-3">
                    <label for="comentario-nome" class="form-label">Nome</label>
                    <input
                      type="text"
                      class="form-control"
                      id="comentario-nome"
                      required
                    />
                  </div>
                  <div class="mb-3">
                    <label for="comentario-estrelas" class="form-label"
                      >Classificação</label
                    >
                    <select
                      class="form-select"
                      id="comentario-estrelas"
                      required
                    >
                      <option value="" disabled selected>
                        Classifique o produto
                      </option>
                      <option value="5">⭐⭐⭐⭐⭐ Excelente</option>
                      <option value="4">⭐⭐⭐⭐ Muito Bom</option>
                      <option value="3">⭐⭐⭐ Bom</option>
                      <option value="2">⭐⭐ Regular</option>
                      <option value="1">⭐ Ruim</option>
                    </select>
                  </div>
                  <div class="mb-3">
                    <label for="comentario-texto" class="form-label"
                      >Comentário</label
                    >
                    <textarea
                      class="form-control"
                      id="comentario-texto"
                      rows="4"
                      placeholder="Compartilhe sua experiência com este produto..."
                      required
                    ></textarea>
                  </div>
                  <button type="submit" class="btn btn-primary">
                    <i class="fas fa-paper-plane"></i> Enviar Avaliação
                  </button>
                </form>
              </div>

              <!-- Lista de Comentários -->
              <div id="comentarios-lista">
                <!-- Comentários serão inseridos aqui -->
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Produtos Relacionados -->
    <section
      class="container mb-5"
      id="produtos-relacionados"
      style="display: none"
    >
      <h3 class="mb-4">Produtos Relacionados</h3>
      <div class="row" id="produtos-relacionados-lista">
        <!-- Produtos relacionados serão inseridos aqui -->
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-light text-center py-3 mt-auto">
      <p class="mb-0">&copy; 2025 LisBeauty. Todos os direitos reservados.</p>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/main.js"></script>
    <script src="js/produto.js"></script>
  </body>
</html>
